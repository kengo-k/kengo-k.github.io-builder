## 事例1

LXDコンテナに独自のネットワークアドレスを設定しLXDホストからpingを通す。

- ホストネットワーク: 192.168.11.0/24
- LXDネットワーク: 192.168.111.0/24

### LXDのネットワークを作成する

```
$ sudo lxc network create network2 \
  ipv4.address=192.168.111.1/24 \
  ipv4.nat=false
```

これにより、network2という名前のネットワークが作成され、IPアドレス192.168.111.1/24が割り当てられます。

### ネットワーク2にコンテナを接続する

```
$ sudo lxc launch ubuntu:18.04 mycontainer -n network2
```

これにより、mycontainerという名前のコンテナが作成され、ネットワーク2に接続されます。

### ネットワーク1とネットワーク2をルーティングする

```
$ sudo iptables -t nat -A POSTROUTING -s 192.168.11.0/24 -d 192.168.111.0/24 -j MASQUERADE
```

これにより、ネットワーク1からネットワーク2にパケットがルーティングされるようになります。

### ネットワーク1のホストに対して、ネットワーク2のコンテナに対するルートを設定する

```
$ sudo ip route add 192.168.111.0/24 via 192.168.11.1
```

これにより、ネットワーク1内のホストからネットワーク2のコンテナにアクセスするためのルートが設定されます。
